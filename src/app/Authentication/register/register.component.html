<section class="body">
    <div class="box">
        <span class="borderLine"></span>
        <form #form="ngForm" (ngSubmit)="onRegister()">
            <h2>Sign Up</h2>
            
            <div class="profilePreview" (click)="triggerFileInput()">
                <img [src]="previewImageUrl || 'assets/default-avatar.jpg'" alt="Profile Preview">
                <input type="file" 
                    #fileInput 
                    name="profileImage" 
                    (change)="onFileSelected($event)" 
                    accept="image/*" 
                    hidden
                    required
                >
                <div class="overlay-text d-flex justify-content-center align-items-center flex-column">
                    <div class="fs-3">ðŸ“·</div> 
                    <span class="text-center text-light">Upload Profile image</span> 
                </div>

                <div *ngIf="previewImageUrl" class="remove-icon" (click)="removeImage($event)">
                    âœ–
                </div>
            </div>

            <div class="inputBox">
                <input type="text" name="userName" [(ngModel)]="register.UserName" required autocomplete="username">
                <span>Username</span>
                <i></i>
            </div>

            <div class="inputBox">
                <input type="text" name="fullName" [(ngModel)]="register.FullName" required autocomplete="name">
                <span>Full Name</span>
                <i></i>
            </div>

            <div class="inputBox">
                <input type="text" name="email" [(ngModel)]="register.Email" required autocomplete="email">
                <span>Email</span>
                <i></i>
            </div>

            <div class="inputBox">
                <input type="number" name="phoneNumber" [(ngModel)]="register.PhoneNumber" required autocomplete="tel">
                <span>Phone Number</span>
                <i></i>
            </div>

            <div class="inputBox">
                <input type="password" name="password" [(ngModel)]="register.Password" required autocomplete="new-password">
                <span>Password</span>
                <i></i>
            </div>
            
            <div class="links">
                <a routerLink="/login">Already have an account? Sign In</a>
            </div>

            <!-- ðŸ”´ Validation Error Section -->
            <div *ngIf="errorMessages?.length" class="error-messages">
                <ul>
                    <li *ngFor="let error of errorMessages">{{ error }}</li>
                </ul>
            </div>

            <input type="submit" [disabled]="isRegister" id="submit" value="Register">
        </form>
    </div>
</section>