<div class="chat-box">
  <!-- Group Header (Optional - you can add this) -->
  <div class="userTo d-flex align-items-center" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 18px 20px; color: white;">
    <div class="backBtn" (click)="groupChatBack()" style="background: rgba(255,255,255,0.2); border: none; width: 36px; height: 36px; border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; margin-right: 12px; color: white;">
      <i class="fa-solid fa-arrow-left"></i>
    </div>
    <div class="profilePic" style="width: 42px; height: 42px; border-radius: 50%; background: rgba(255,255,255,0.3); display: flex; align-items: center; justify-content: center; font-size: 18px; font-weight: 600; margin-right: 12px;">
      G
    </div>
    <div style="flex: 1; font-size: 18px; font-weight: 600; letter-spacing: 0.5px;">
      GROUP CHAT
    </div>
  </div>

  <!-- Messages Area -->
  <div class="messages" id="group-chat-scroll">
    <div *ngFor="let msg of messages; let i = index">
      <div class="main-separator" *ngIf="isNewDate(i)">
        <div class="date-separator">
          {{ getDateLabel(msg.created) }}
        </div>
      </div>
    
    <div
      
      [ngClass]="{
        'my-message': msg.fromUser === fromUser,
        'other-message': msg.fromUser !== fromUser
      }"
    >
      <div class="msg-info">
        <div class="msg-text">
          <b *ngIf="msg.fromUser !== fromUser">{{ msg.fromUser }}</b>
          <p>{{ msg.message }}</p>
          <span class="msg-time">{{ msg.created | date: 'shortTime' }}</span>
        </div>
      </div>
    </div>
    </div>
    <div *ngIf="isLoader" class="loader-container">
      <div class="loader"></div>
      <p>Loading messages...</p>
    </div>
  </div>

  <!-- Scroll to Bottom Button -->
  <button 
    *ngIf="showScrollButton" 
    class="scroll-to-bottom-btn"
    (click)="scrollToBottom(true)"
    title="Scroll to bottom">
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
      <path d="M12 5v14M19 12l-7 7-7-7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
  </button>

  <div class="input-area">
    <div class="input-wrapper">
      <input
        [(ngModel)]="message"
        (keyup.enter)="send()"
        placeholder="Type a message..."
      />

      <button (click)="send()" class="send-btn">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
          <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/>
        </svg>
      </button>
    </div>
  </div>
</div>
